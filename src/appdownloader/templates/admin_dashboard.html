{% extends "base.html" %}
{% block content %}
<section class="panel">
  <h1>관리자 대시보드</h1>
  <div class="stats">
    <div class="stat"><strong>{{ stats.app_type_count }}</strong><span>앱 종류</span></div>
    <div class="stat"><strong>{{ stats.version_count }}</strong><span>버전</span></div>
    <div class="stat"><strong>{{ stats.notice_count }}</strong><span>공지</span></div>
  </div>

  <div class="actions">
    <a class="btn" href="/admin/apps">앱 종류 관리</a>
    <a class="btn" href="/admin/apks/upload">APK 업로드</a>
    <a class="btn" href="/admin/notices">공지 관리</a>
    <form method="post" action="/admin/logout"><button class="btn danger" type="submit">로그아웃</button></form>
  </div>
</section>

<section class="panel">
  <h2>최근 공지</h2>
  {% if recent_notices %}
  <ul class="notice-list">
    {% for n in recent_notices %}
    <li>
      <div class="notice-title">{{ n.title }}</div>
      <div class="muted">{{ n.created_at }}{% if not n.is_visible %} / 비노출{% endif %}</div>
    </li>
    {% endfor %}
  </ul>
  {% else %}
  <p class="muted">최근 공지가 없습니다.</p>
  {% endif %}
</section>
{% endblock %}
